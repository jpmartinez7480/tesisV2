import React, { Component } from 'react';
import cloneDeep from 'lodash.clonedeep';
import ReactEcharts from 'echarts-for-react';
import PropTypes from 'prop-types';
import { withStyles } from '@material-ui/core/styles';


class Graph extends React.Component {
    constructor(props) {
        super(props);
        const {classes} = props
        this.state = this.getInitialState();
    }

    
    getInitialState = () => ({option: this.getOption()})

    fetchVFSI(){
      let vsfi = [];
      for(var i = 1; i < this.json.length; i++){
          vsfi.push(this.json[i].V3)
      }
      return vsfi;
    }

    
  
  getOption = () => ({
    title: {
      text:'Señal',
    },
    tooltip: {
      trigger: 'axis'
    },
    legend: {
      data:['1', '2']
    },
    toolbox: {
      show: true,
      feature: {
        dataView: {readOnly: false},
        restore: {},
        saveAsImage: {}
      }
    },
    grid: {
      top: 60,
      left: 30,
      right: 60,
      bottom:30
    },
    dataZoom: {
      show: false,
      start: 0,
      end: 100
    },
    visualMap: {
      show: false,
      min: 0,
      max: 1000,
      color: ['#BE002F', '#F20C00', '#F00056', '#FF2D51', '#FF2121', '#FF4C00', '#FF7500',
        '#FF8936', '#FFA400', '#F0C239', '#FFF143', '#FAFF72', '#C9DD22', '#AFDD22',
        '#9ED900', '#00E500', '#0EB83A', '#0AA344', '#0C8918', '#057748', '#177CB0']
    },
    xAxis: [
        {
          type: 'category',
          boundaryGap: true,
          data:(function(){
            let res = []
            for(var i = 0; i < 43; i++){
              res.push(i)
            }
            return res;
          })()
        }

      ],
      yAxis: [
        {
          type: 'value',
          scale: true,
          name: 'cm/s',
          max: 50,
          min: 0,
          boundaryGap: [0.2, 0.2]
        }
      ],
      series: [
        {
          name:'Señal paciente',
          type:'line',
          data:(function (){
            let res = [];
            const json = [
              {
                "V1": "HH:mm:ss:ms",
                "V2": "N",
                "V3": "cm/s",
                "V4": "cm/s",
                "V5": "mV",
                "V6": "mV",
                "V7": "mV",
                "V8": "mV",
                "V9": "mV",
                "V10": "mV",
                "V11": "mV",
                "V12": "mV"
              },
              {
                "V1": "11:26:37:21",
                "V2": "0",
                "V3": "31",
                "V4": "38",
                "V5": "57.81",
                "V6": "7.6",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:22",
                "V2": "1",
                "V3": "30",
                "V4": "37",
                "V5": "57.564",
                "V6": "8.2",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:23",
                "V2": "2",
                "V3": "29",
                "V4": "40",
                "V5": "57.81",
                "V6": "8.2",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:24",
                "V2": "3",
                "V3": "27",
                "V4": "31",
                "V5": "57.564",
                "V6": "8.2",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:25",
                "V2": "4",
                "V3": "19",
                "V4": "30",
                "V5": "57.072",
                "V6": "8.2",
                "V7": "27.4",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:26",
                "V2": "5",
                "V3": "22",
                "V4": "34",
                "V5": "56.58",
                "V6": "8.2",
                "V7": "27.4",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:27",
                "V2": "6",
                "V3": "22",
                "V4": "40",
                "V5": "56.088",
                "V6": "8.2",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:28",
                "V2": "7",
                "V3": "25",
                "V4": "38",
                "V5": "55.842",
                "V6": "9",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:29",
                "V2": "8",
                "V3": "27",
                "V4": "36",
                "V5": "55.35",
                "V6": "9.2",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:30",
                "V2": "9",
                "V3": "26",
                "V4": "33",
                "V5": "54.858",
                "V6": "9.2",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.642",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:31",
                "V2": "10",
                "V3": "26",
                "V4": "34",
                "V5": "53.874",
                "V6": "9.2",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:32",
                "V2": "11",
                "V3": "27",
                "V4": "38",
                "V5": "53.628",
                "V6": "9",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:33",
                "V2": "12",
                "V3": "24",
                "V4": "37",
                "V5": "52.89",
                "V6": "9",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:34",
                "V2": "13",
                "V3": "20",
                "V4": "25",
                "V5": "52.398",
                "V6": "9",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:35",
                "V2": "14",
                "V3": "23",
                "V4": "27",
                "V5": "52.398",
                "V6": "9.8",
                "V7": "27.8",
                "V8": "0",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:36",
                "V2": "15",
                "V3": "24",
                "V4": "38",
                "V5": "51.906",
                "V6": "10",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:37",
                "V2": "16",
                "V3": "27",
                "V4": "37",
                "V5": "51.414",
                "V6": "9.8",
                "V7": "27.4",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:38",
                "V2": "17",
                "V3": "24",
                "V4": "33",
                "V5": "50.922",
                "V6": "9.8",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:39",
                "V2": "18",
                "V3": "23",
                "V4": "28",
                "V5": "50.43",
                "V6": "9.8",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:40",
                "V2": "19",
                "V3": "25",
                "V4": "28",
                "V5": "50.184",
                "V6": "9.8",
                "V7": "27.8",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:41",
                "V2": "20",
                "V3": "25",
                "V4": "29",
                "V5": "50.184",
                "V6": "11",
                "V7": "27.4",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:42",
                "V2": "21",
                "V3": "25",
                "V4": "30",
                "V5": "50.184",
                "V6": "10.6",
                "V7": "27.8",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:43",
                "V2": "22",
                "V3": "24",
                "V4": "37",
                "V5": "49.446",
                "V6": "10.6",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:44",
                "V2": "23",
                "V3": "25",
                "V4": "35",
                "V5": "49.446",
                "V6": "10.4",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:45",
                "V2": "24",
                "V3": "24",
                "V4": "36",
                "V5": "49.2",
                "V6": "11",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.642",
                "V10": "26",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:46",
                "V2": "25",
                "V3": "23",
                "V4": "34",
                "V5": "48.708",
                "V6": "11",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:47",
                "V2": "26",
                "V3": "22",
                "V4": "23",
                "V5": "48.462",
                "V6": "11",
                "V7": "27.4",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:48",
                "V2": "27",
                "V3": "22",
                "V4": "35",
                "V5": "48.216",
                "V6": "11.6",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.642",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:49",
                "V2": "28",
                "V3": "26",
                "V4": "36",
                "V5": "48.216",
                "V6": "11.4",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:50",
                "V2": "29",
                "V3": "24",
                "V4": "34",
                "V5": "47.97",
                "V6": "11.6",
                "V7": "27.8",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:51",
                "V2": "30",
                "V3": "23",
                "V4": "34",
                "V5": "47.724",
                "V6": "11.6",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:52",
                "V2": "31",
                "V3": "25",
                "V4": "35",
                "V5": "47.478",
                "V6": "11.6",
                "V7": "27.8",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:53",
                "V2": "32",
                "V3": "25",
                "V4": "34",
                "V5": "47.478",
                "V6": "11.6",
                "V7": "27.4",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.642",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:54",
                "V2": "33",
                "V3": "25",
                "V4": "33",
                "V5": "47.232",
                "V6": "12.6",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:55",
                "V2": "34",
                "V3": "20",
                "V4": "34",
                "V5": "46.986",
                "V6": "12.6",
                "V7": "27.8",
                "V8": "0",
                "V9": "6.396",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:56",
                "V2": "35",
                "V3": "20",
                "V4": "33",
                "V5": "46.74",
                "V6": "12.8",
                "V7": "27.8",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:57",
                "V2": "36",
                "V3": "19",
                "V4": "35",
                "V5": "46.986",
                "V6": "12.8",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "26",
                "V11": "6.642",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:58",
                "V2": "37",
                "V3": "22",
                "V4": "35",
                "V5": "46.74",
                "V6": "12.6",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:59",
                "V2": "38",
                "V3": "24",
                "V4": "30",
                "V5": "46.248",
                "V6": "12.6",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:60",
                "V2": "39",
                "V3": "19",
                "V4": "22",
                "V5": "46.248",
                "V6": "14.4",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:61",
                "V2": "40",
                "V3": "22",
                "V4": "28",
                "V5": "46.248",
                "V6": "14.4",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "26",
                "V11": "6.642",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:62",
                "V2": "41",
                "V3": "22",
                "V4": "28",
                "V5": "46.002",
                "V6": "14.2",
                "V7": "27.6",
                "V8": "-1",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
              {
                "V1": "11:26:37:63",
                "V2": "42",
                "V3": "20",
                "V4": "33",
                "V5": "46.002",
                "V6": "14.2",
                "V7": "27.6",
                "V8": "0",
                "V9": "6.642",
                "V10": "25",
                "V11": "6.888",
                "V12": "6.888"
              },
            ]
            for(var i = 1; i < json.length; i++){
              res.push(json[i]['V3']);
            }
              
            return res;
          })()
        }
      ]
    });

    render(){
        return(

            <ReactEcharts ref='echarts_react'
              option={this.state.option}
              style={{height: 300}} />
        )
    }
}

export default Graph;